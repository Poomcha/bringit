{% extends "/lists/layout.jinja" %}

{% block title %}Create List{% endblock %}

{% block section %}
<form class="d-flex flex-column gap-3" action="{{ url_for('lists.create') }}" method="post" id="listform"
    enctype="multipart/form-data" name="listform">
    <h4 class="text-light text-center mt-3">List</h4>
    {% for list_field in list_form if list_field.type != "SubmitField" %}
    <div class="d-flex flex-column">
        {{ list_field.label(class="form-label text-light") }}
        {% if list_field.type == "BooleanField" %}
        <h6 class="text-light mb-3">Bringers</h6>
        <div class="bg-light p-3 d-flex flex-column gap-3 form-control" style="max-height: 200px; overflow-y: scroll;">
            {% for bringer in my_bringers %}
            <div class="form-check">
                {{ list_field(class="form-check-input", value=bringer[0]) }}
                <label class="form-check-label">{{ bringer[1] }}</label>
            </div>
            {% endfor %}
        </div>
        {% else %}
        {{ list_field(class="form-control") }}
        {% endif %}
    </div>
    {% endfor %}
    <hr class="border border-light z-1" />
    <div id="item-list">
        <div class="d-flex flex-column item-root" data-bgit="item-form-0">
            <div class="item-form" data-bgit="item-form-0">
                <div class="d-flex flex-column gap-3">
                    <h5 class="text-light text-center">Item</h5>
                    {{ item_form.itemform(class="d-flex flex-column gap-3 p-0 item-inputs-list") }}
                    <div class="d-flex justify-content-between">
                        <button class="remove-item btn btn-danger" data-bgit="item-form-0">Remove</button>
                        <button class="validate-item btn btn-success" data-bgit="item-form-0">Validate</button>
                    </div>
                    <hr class="border border-light z-1" />
                </div>
            </div>
            <div class="card" data-bgit="item-form-0" hidden>
                <div class="row g-0">
                    <div class="col-3 d-flex">
                        <img src="" class="m-auto img-fluid rounded-start item-image h-100" data-bgit="item-form-0"
                            alt="Item">
                    </div>
                    <div class="col-9">
                        <div class="card-body">
                            <h6 class="card-title" data-bgit="item-form-0">Item</h6>
                            <div class="d-flex justify-content-between">
                                <button class="remove-item btn btn-sm btn-danger"
                                    data-bgit="item-form-0">Remove</button>
                                <button class="modify-item btn btn-sm btn-secondary"
                                    data-bgit="item-form-0">Modify</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-3">
        <button class="add-item btn btn-primary">Add Item</button>
    </div>
    <div class="mt-3">
        {{ list_form.submit(class="btn btn-primary", value="Submit") }}
    </div>
</form>
{% endblock %}